---
layout: default
---

<style>
  h3 {
    display:none;
  }
  #blogger {
    width: 100%;
    height: 512px;
    border: 0;
  }
  #progress {
    height: 32px;
    width: 0;
    background-color: #cccccc;
  }
  #playlist {
    width: 100%;
    height: 180px;
  }
</style>

<h3>Wiki</h3>

<audio id="audio">
  <source src="/assets/mp3/nightingale_bird.mp3" type="audio/mpeg">
  <embed src="https://freealise.com/assets/mp3/album.mp3" type="audio/mpeg" height="32" width="256"></embed>
</audio>

    <a id="play" href="javascript:audio.play();startPlayback();">|></a>
    <a id="stop" href="javascript:audio.pause();stopPlayback();">[]</a>
    <div id="progress"></div>
    <div id="playlist"></div>
    <script src='https://www.gstatic.com/charts/loader.js' type='text/javascript'></script>
    <script type="text/javascript">
      var audio = document.getElementById('audio');
      var _t;
      function startPlayback() {
        _t = setInterval(function(){ document.getElementById("progress").style.width = document.getElementById("audio").currentTime + "px"; }, 1000);
      }
      function stopPlayback() {
        clearInterval(_t);
      }
      
      google.charts.load('current', {'packages':['timeline']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var container = document.getElementById('playlist');
        var chart = new google.visualization.Timeline(container);
        var dataTable = new google.visualization.DataTable();
        
        var options = {
          timeline: { barLabelStyle: { fontName: 'Averia Serif Libre', fontSize: 12 }, showRowLabels: false, singleColor: '#cccccc' },
          hAxis: { format: ' ' }
        };

        dataTable.addColumn({ type: 'string', id: 'Number' });
        dataTable.addColumn({ type: 'string', id: 'Song' });
        dataTable.addColumn({ type: 'datetime', id: 'Start' });
        dataTable.addColumn({ type: 'datetime', id: 'End' });
        dataTable.addRows([
          [ '1', 'Nightingale', new Date(0), new Date(45000) ],
          [ '2', 'Skylark', new Date(45000),  new Date(60000) ],
          [ '3', 'Parrot', new Date(60000),  new Date(120000) ]
        ]);
   
        function selectHandler() {
          var selectedItem = chart.getSelection()[0];
          if (selectedItem) {
            audio.currentTime = dataTable.getValue(selectedItem.row, 2).getTime();
          }
        }

        google.visualization.events.addListener(chart, 'select', selectHandler); 
        chart.draw(dataTable, options);
      }
    </script>


<iframe id="blogger" src="" width="100%" height="512"></iframe>

<script>
  var view = '?view=flipcard&m=0';
  var url = 'https://wiki.freealise.com';
  var p = document.location.href.split('?p=');
  if (p[1]) {
    p = p[1].split('#')[0];
    document.getElementById('blogger').src = url + p + view;
  } else {
    document.getElementById('blogger').src = url + "/p/index.html" + view;
  }
</script>
